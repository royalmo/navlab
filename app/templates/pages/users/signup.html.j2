{% extends 'base/logged_out.html.j2' %}

{% block width %}sm:max-w-3xl{% endblock %}

{% block body %}

<form id="register_form" class="space-y-4 md:space-y-6" method="post" action="">
  {{ form.hidden_tag() }}

  <div class="flex">
    <h1 class="text-lp-4 text-center text-xl font-bold leading-tight tracking-tight md:text-2xl">
        {{_('Register your account')}}
    </h1>
    {{ form.language(class_="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-1 pl-2.5",style="width:auto; margin-left:auto;") }}
    <script src="{{ url_for('static', filename='js/change_language.js') }}"></script>
  </div>

  {% if email_taken %}
    <h4 class="text-center font-bold text-red-800">
      {{_('Email already taken. Please try another or')}} <a href="{{ url_for('.login') }}" class="text-red-600 italic underline hover:text-red-300">{{_('log in')}}</a>.
    </h4>
  {% endif %}

  <div>
    <label for="name" class="block mb-2 text-sm font-medium text-gray-900">{{_('Name')}}</label>
    {{ form.name(class_="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5") }}
  </div>
  <div>
    <label for="email" class="block mb-2 text-sm font-medium text-gray-900">{{_('Email')}}</label>
    {{ form.email(class_="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5") }}
  </div>
  <div>
    <label for="password" class="block mb-2 text-sm font-medium text-gray-900">{{_('Password')}}</label>
    {{ form.password(class_="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5", pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$") }}
    <div id="password_hints">
      <span class="text-red-700">
        <i class="fa fa-times"></i> {{ _('Lowercase') }}
      </span>
      <span class="text-red-700">
        <i class="fa fa-times"></i> {{ _('Uppercase') }}
      </span>
      <span class="text-red-700">
        <i class="fa fa-times"></i> {{ _('Digit') }}
      </span>
      <span class="text-red-700">
        <i class="fa fa-times"></i> {{ _('8+ Characters') }}
      </span>
      <span class="text-red-700">
        <i class="fa fa-times"></i> {{ _('Symbol') }}
      </span>
    </div>
  </div>
  <div>
    <label for="confirmation_password"
        class="block mb-2 text-sm font-medium text-gray-900">{{_('Confirmation Password')}}</label>
    {{ form.password_confirm(class_="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5", pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$") }}
    <div id="password_confirm_hints">
      <span class="text-red-700">
        <i class="fa fa-times"></i> {{ _('Passwords do not match') }}
      </span>
      <span class="text-green-700" style="display:none;">
        <i class="fa fa-check"></i> {{ _('Passwords match') }}
      </span>
    </div>
  </div>

  <div class="flex items-center justify-center">
    {{ form.submit(class_="bg-lp-2 border-2 border-black w-full text-lp-4 hover:shadow-lg font-medium rounded-lg text-sm px-5 py-2.5 text-center focus:ring-4 focus:outline-none focus:ring-primary-300") }}
  </div>
  <p class="text-sm font-light text-gray-500 text-center">
      {{_('Already have an account?')}} <a href="{{ url_for('.login') }}" class="text-lp-4 font-medium text-primary-600 hover:underline">{{_('Log in')}}</a>
  </p>
</form>

<script class="text-green-600" src="{{ url_for('static', filename='js/register_check.js') }}"></script>

{% endblock %}